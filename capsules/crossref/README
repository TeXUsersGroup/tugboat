$Id$

TUGboat doi processing. Public domain.
Originally written 2020 Karl Berry.

The general idea is use the capsule files as the input source. captub
converts those to .rpi files. The .rpi files are read by the
ltx2crossrefxml script, which outputs xml to be uploaded to
crossref.org.

In more detail: captub writes a separate .rpi file for each article for
which we want to register a doi; it also constructs the (html) "landing
pages" which the https://doi.org urls will resolve to.

The upload process is an HTTPS POST, done with the
crossref-upload-tool.jar provided by Crossref. See ./Makefile for the
invocations. There is a test host to use with new data before uploading
to their production host and registering the dois (and getting charged).

We save the .xml files as uploaded to production, so that if we need to
make corrections, we don't have to go through all the regeneration steps.

To summarize:
capsules/*.txt - the source text
capsules/crossref/rpi/      - the autogenerated rpi from capsules
capsules/crossref/landing/  - autogenerated .html landing pages
capsules/crossref/process/  - temporary rpi+xml in process
capsules/crossref/uploaded/ - archive of rpi+xml that has been uploaded

Footnotes:
1) The ltx2crossrefxml script is part of https://ctan.org/pkg/crossrefware.
The development, rather than released, version may be required. The
location can be given in ./Makefile, or make a symlink here.

2) crossref.org is the doi registrar for scholarly papers. Their web
site has decent documentation on most aspects of this process, and their
schema that we target with the xml is well annotated.

3) the .rpi extension comes from Res Philosophica, the journal for
which this support was originally created, by Boris Veytsman.

